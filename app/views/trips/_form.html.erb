<%= bootstrap_form_for @trip do |f| %>
  <%= f.text_field :title %>
  <%= f.text_field :destination %>
  <%= f.date_field :start_date %>
  <%= f.date_field :end_date %>
  <%= f.text_area :description %>

  <% if @trip.media.attached? %>
    <div class="mb-3">
      <label class="form-label">Current Image(s):</label>
      <div class="row g-3">
        <% @trip.media.each do |media_item| %>
          <div class="col-md-4 d-flex flex-column align-items-center">
            <%= image_tag media_item, class: "img-thumbnail mb-2", width: 200 %>
            <div class="form-check">
              <%= check_box_tag "remove_media_ids[]", media_item.id, false, class: "form-check-input", id: "remove_media_#{media_item.id}" %>
              <%= label_tag "remove_media_#{media_item.id}", "Remove?", class: "form-check-label" %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :media, "Add/Replace Image(s)", class: "form-label" %>
    <%= f.file_field :media, multiple: true, class: "form-control" %>
  </div>

  <%= f.submit @trip.persisted? ? "Update Trip" : "Create Trip", class: "btn btn-primary" %>
<% end %>