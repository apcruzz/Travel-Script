<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title).presence && "#{content_for(:title)} | " %>Travel Script</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>

  <body class="<%= layout_class %>">

    <% unless hide_navbar? %>
      <!-- LEFT SIDEBAR -->
      <aside class="sidebar">
        <%= render "shared/sidebar_nav" %>
      </aside>
    <% end %>

    <!-- MIDDLE FEED -->
    <main class="main-feed">
      <div id="flash-messages" class="flash-container">
        <% flash.each do |name, msg| %>
          <div class="alert alert-<%= name == "notice" ? "success" : "danger" %>
                      alert-dismissible fade show d-flex justify-content-between">
            <p><strong><%= msg %></strong></p>
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        <% end %>
      </div>

      <%= yield %>
      <%= yield :feed %>
    </main>

    <!-- RIGHT COLUMN -->
    <aside class="right-panel">
      <%= yield :right_panel %>
    </aside>

  </body>
</html>
